{
  $schema: "https://docs.renovatebot.com/renovate-schema.json",
  customManagers: [
    {
      customType: "regex",
      description: "Process imageName updates",
      managerFilePatterns: [
        "/kubernetes\\/.+\\.yaml$/"
      ],
      matchStrings: [
        "imageName: +(?<depName>[^:]+):(?<currentValue>[^@\\n]+)(@(?<currentDigest>sha256:[0-9a-f]+))?"
      ],
      datasourceTemplate: "docker",
      versioningTemplate: "redhat"
    },
    {
      customType: "regex",
      description: "Process raw GitHub URLs",
      managerFilePatterns: [
        "/kubernetes\\/.+\\.yaml(?:\\.j2)?$/"
      ],
      matchStrings: [
        "https:\\/\\/raw.githubusercontent.com\\/(?<depName>[\\w\\d\\-_]+\\/[\\w\\d\\-_]+)\\/(?<currentValue>[\\w\\d\\.\\-_]+)\\/.*"
      ],
      datasourceTemplate: "github-releases",
      versioningTemplate: "semver"
    },
    {
      customType: "regex",
      description: "Process GitHub release URLs",
      managerFilePatterns: [
        "/kubernetes\\/.+\\.yaml(?:\\.j2)?$/"
      ],
      matchStrings: [
        "https:\\/\\/github.com\\/(?<depName>[\\w\\d\\-_]+\\/[\\w\\d\\-_]+)\\/releases\\/download\\/v(?<currentValue>[\\w\\d\\.\\-_]+)\\/.*",
        "https:\\/\\/github.com\\/(?<depName>[\\w\\d\\-_]+\\/[\\w\\d\\-_]+)\\/releases\\/download\\/(?<currentValue>[\\w\\d\\.\\-_]+)\\/.*"
      ],
      datasourceTemplate: "github-releases",
      versioningTemplate: "semver"
    },
    {
      customType: "regex",
      description: "Process OCI dependencies",
      managerFilePatterns: [
        "/kubernetes\\/.+\\.yaml(?:\\.j2)?$/"
      ],
      matchStrings: [
        "oci://(?<depName>[^:]+):(?<currentValue>\\S+)",
      ],
      datasourceTemplate: "docker"
    }
  ]
}
